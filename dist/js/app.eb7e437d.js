(function(){"use strict";var t={6591:function(t,e,r){var a=r(9242),o=r(3396);const n={id:"app"},c={class:"container"};function s(t,e,r,a,s,i){const u=(0,o.up)("Header"),d=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",n,[(0,o.Wm)(u),(0,o._)("div",c,[(0,o.Wm)(d)])])}var i=r(7139),u=r.p+"img/vegan-food-logo-2.686a6e57.png";const d=t=>((0,o.dD)("data-v-c8fa5042"),t=t(),(0,o.Cn)(),t),l={class:"navbar navbar-expand-lg sticky-top mb-3 navbar-shadow bg-white"},p={class:"container-fluid"},m=d((()=>(0,o._)("img",{src:u,class:"navbar-logo",alt:"Logo"},null,-1))),y=[m],h={class:"nav justify-content-center flex-grow-1"},_={class:"nav-item flex-grow-1"},f={class:"input-box"},v=d((()=>(0,o._)("button",{type:"submit",class:"btn",id:"formSubmitBtn"},[(0,o._)("i",{class:"fa fa-search fa-lg"})],-1))),g={class:"nav-item"},b=d((()=>(0,o._)("i",{class:"fas fa-shopping-cart fa-2x"},null,-1))),C={key:0,class:"cart-items-count"};function w(t,e,r,n,c,s){const u=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("nav",l,[(0,o._)("div",p,[(0,o._)("a",{class:"navbar-brand",href:"",onClick:e[0]||(e[0]=(...t)=>s.resetSearchQuery&&s.resetSearchQuery(...t))},y),(0,o._)("ul",h,[(0,o._)("li",_,[(0,o._)("form",{onSubmit:e[2]||(e[2]=(...t)=>s.searchProducts&&s.searchProducts(...t)),id:"searchForm"},[(0,o._)("div",f,[(0,o.wy)((0,o._)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=t=>c.searchQuery=t),name:"searchInput",placeholder:"Search products...",autocomplete:"off"},null,512),[[a.nr,c.searchQuery]]),v])],32)]),(0,o._)("li",g,[(0,o.Wm)(u,{to:"/cart",class:"nav-link pe-0"},{default:(0,o.w5)((()=>[b,s.cartItems.length>0?((0,o.wg)(),(0,o.iD)("span",C,(0,i.zw)(s.cartItems.length),1)):(0,o.kq)("",!0)])),_:1})])])])])}r(7658);var P=r(2483);const T={key:0},q={key:1},D=(0,o._)("h6",{class:"alert alert-primary"}," There are no products containing what you are looking for.. ",-1),Q=[D];function k(t,e,r,a,n,c){const s=(0,o.up)("ProductList");return t.productList.length>0?((0,o.wg)(),(0,o.iD)("div",T,[(0,o.Wm)(s,{products:t.productList},null,8,["products"])])):((0,o.wg)(),(0,o.iD)("div",q,Q))}const I=t=>((0,o.dD)("data-v-62735072"),t=t(),(0,o.Cn)(),t),E=I((()=>(0,o._)("h1",{class:"my-4"},"Available products:",-1))),x={class:"row gy-3"},S=["src"],A={class:"card-body product-card__content"},L={class:"card-title product-card__title"},O={class:"card-text product-card__price"},R={class:"card-text product-card__description"};function U(t,e,r,a,n,c){const s=(0,o.up)("RouterLink");return(0,o.wg)(),(0,o.iD)(o.HY,null,[E,(0,o._)("div",x,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.products,(e=>((0,o.wg)(),(0,o.iD)("div",{class:"col-lg-3 col-md-4 col-sm-6",key:e.id},[(0,o.Wm)(s,{to:{name:"product-detail",params:{name:e.name}},onClick:r=>t.selectProduct(e),class:"card product-card"},{default:(0,o.w5)((()=>[(0,o._)("img",{src:e.image,alt:"Product Image",class:"card-img-top product-card__image"},null,8,S),(0,o._)("div",A,[(0,o._)("h3",L,(0,i.zw)(e.name),1),(0,o._)("span",O,(0,i.zw)(c.formatPrice(e.price))+"€ ",1),(0,o._)("p",R,(0,i.zw)(e.description),1)])])),_:2},1032,["to","onClick"])])))),128))])],64)}const M=t=>t.toFixed(2);var z=r(65),j={props:{products:{type:Array,required:!0}},methods:{...(0,z.nv)(["selectProduct"]),formatPrice:M}},H=r(89);const Y=(0,H.Z)(j,[["render",U],["__scopeId","data-v-62735072"]]);var F=Y,Z={components:{ProductList:F},computed:{...(0,z.rn)(["productList"])},created(){0==this.productList.length&&this.fetchProductList()},methods:{...(0,z.nv)(["fetchProductList"])}};const W=(0,H.Z)(Z,[["render",k]]);var V=W;const N=t=>((0,o.dD)("data-v-2af5533a"),t=t(),(0,o.Cn)(),t),K=N((()=>(0,o._)("h1",{class:"my-4"},"Cart",-1))),B={key:0},G={class:"row"},J=N((()=>(0,o._)("hr",null,null,-1))),X={class:"btn btn-lg btn-primary w-100 shadow"},tt=N((()=>(0,o._)("br",null,null,-1))),et={key:1},rt=N((()=>(0,o._)("p",{class:"alert alert-warning"}," Your cart is empty. ",-1))),at=[rt];function ot(t,e,r,a,n,c){const s=(0,o.up)("ProductCart"),u=(0,o.up)("ConfirmModal");return(0,o.wg)(),(0,o.iD)(o.HY,null,[K,c.cartItems.length>0?((0,o.wg)(),(0,o.iD)("div",B,[(0,o._)("div",G,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(c.cartItems,((t,e)=>((0,o.wg)(),(0,o.iD)("div",{key:e,class:"product col-lg-6 col-md-6 col-sm-12"},[(0,o.Wm)(s,{product:t,onConfirmDelete:c.selectProduct},null,8,["product","onConfirmDelete"])])))),128)),(0,o.Wm)(u,{product:n.selectedProduct,onDeletionConfirmed:c.removeProduct},null,8,["product","onDeletionConfirmed"])]),J,(0,o._)("button",X,[(0,o.Uk)("Total purchase "),tt,(0,o.Uk)(" "+(0,i.zw)(c.cartTotal)+"€",1)])])):((0,o.wg)(),(0,o.iD)("div",et,at))],64)}const nt={class:"card mb-3"},ct={class:"row g-0"},st={class:"col-4"},it={class:"card-image__container"},ut=["src"],dt={class:"col-8"},lt={class:"card-body h-100 d-flex flex-column justify-content-between"},pt={class:"card-body__content"},mt={class:"card-title"},yt={class:"card-text card__description"},ht={class:"d-flex align-items-center justify-content-between"},_t={class:"input-group input-group-sm me-3"};function ft(t,e,r,n,c,s){const u=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",nt,[(0,o._)("div",ct,[(0,o._)("div",st,[(0,o._)("div",it,[(0,o._)("img",{src:r.product.image,class:"img-fluid rounded-start",alt:"product image"},null,8,ut)])]),(0,o._)("div",dt,[(0,o._)("div",lt,[(0,o._)("div",pt,[(0,o.Wm)(u,{to:`/product/${r.product.name}`,onClick:e[0]||(e[0]=e=>t.selectProduct(r.product))},{default:(0,o.w5)((()=>[(0,o._)("h5",mt,(0,i.zw)(r.product.name),1)])),_:1},8,["to"]),(0,o._)("p",yt,(0,i.zw)(s.truncateDescription(r.product.description,55)),1)]),(0,o._)("div",ht,[(0,o._)("div",_t,[(0,o._)("button",{class:"btn btn-outline-secondary",onClick:e[1]||(e[1]=t=>s.decreaseQuantity(r.product))},"-"),(0,o.wy)((0,o._)("input",{type:"number","onUpdate:modelValue":e[2]||(e[2]=t=>r.product.quantity=t),class:"form-control text-center",min:"1",max:"10",disabled:"",readonly:""},null,512),[[a.nr,r.product.quantity,void 0,{number:!0}]]),(0,o._)("button",{class:"btn btn-outline-secondary",onClick:e[3]||(e[3]=t=>s.increaseQuantity(r.product))},"+")]),(0,o._)("span",null,(0,i.zw)(s.totalPrice)+"€",1)])])])])])}const vt={class:"modal fade",id:"confirmModal",tabindex:"-1","aria-labelledby":"confirmModalLabel","aria-hidden":"true"},gt={class:"modal-dialog"},bt={class:"modal-content"},Ct={class:"modal-header"},wt={class:"modal-title fs-5",id:"confirmModalLabel"},Pt=(0,o._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Tt={class:"modal-body"},qt={class:"modal-footer"},Dt=(0,o._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel",-1);function Qt(t,e,r,a,n,c){return(0,o.wg)(),(0,o.iD)("div",vt,[(0,o._)("div",gt,[(0,o._)("div",bt,[(0,o._)("div",Ct,[(0,o._)("h1",wt,"Delete "+(0,i.zw)(r.product.name)+"?",1),Pt]),(0,o._)("div",Tt," Are you sure you want to delete "+(0,i.zw)(r.product.name)+" from your cart? ",1),(0,o._)("div",qt,[Dt,(0,o._)("button",{type:"button",class:"btn btn-danger",onClick:e[0]||(e[0]=t=>c.removeProduct(r.product))},"Delete")])])])])}var kt={props:{product:{type:Object,required:!0}},methods:{removeProduct(t){$("#confirmModal").modal("toggle"),this.$emit("deletion-confirmed",t)}}};const It=(0,H.Z)(kt,[["render",Qt]]);var Et=It,xt={components:{ConfirmModal:Et},props:{product:{type:Object,required:!0}},methods:{...(0,z.nv)(["selectProduct"]),increaseQuantity(t){t.quantity<10&&(t.quantity++,this.saveToStore(t))},decreaseQuantity(t){t.quantity>1?(t.quantity--,this.saveToStore(t)):($("#confirmModal").modal("toggle"),this.$emit("confirm-delete",t))},saveToStore(t){this.$store.commit("UPDATE_CART_ITEM_QUANTITY",{product:t,quantity:t.quantity})},truncateDescription(t,e){return t.length>e?t.substring(0,e)+"...":t}},computed:{totalPrice(){return M(this.product.price*this.product.quantity)}}};const St=(0,H.Z)(xt,[["render",ft],["__scopeId","data-v-a127f614"]]);var At=St,Lt={components:{ProductCart:At,ConfirmModal:Et},data(){return{selectedProduct:{name:""}}},computed:{cartItems(){return this.$store.getters.cartItems},cartTotal(){return this.$store.getters.cartTotal.toFixed(2)}},methods:{increaseQuantity(t){t.quantity<10&&t.quantity++},decreaseQuantity(t){t.quantity>1&&t.quantity--},selectProduct(t){this.selectedProduct=t,$("#confirmModal").modal("toggle")},removeProduct(t){this.$store.dispatch("removeFromCart",t)}}};const Ot=(0,H.Z)(Lt,[["render",ot],["__scopeId","data-v-2af5533a"]]);var Rt=Ot;const Ut=t=>((0,o.dD)("data-v-5064b160"),t=t(),(0,o.Cn)(),t),Mt={class:"container"},$t=Ut((()=>(0,o._)("h1",{class:"my-4"},"Product detail",-1))),zt={key:0,class:"card mb-4"},jt={class:"row g-0"},Ht={class:"col-md-4"},Yt=["src"],Ft={class:"col-md-8"},Zt={class:"card-body h-100"},Wt={class:"card-body__content"},Vt={class:"card-title"},Nt={class:"card-text"},Kt={class:"me-3"},Bt={class:"input-group mt-3"},Gt=Ut((()=>(0,o._)("label",{for:"quantity",class:"input-group-text me-3 rounded"},"Quantity:",-1))),Jt={class:"input-group-append"},Xt={class:"input-group-append"},te={class:"card-body__actions"},ee={key:0},re={key:1};function ae(t,e,r,n,c,s){return(0,o.wg)(),(0,o.iD)("div",Mt,[$t,s.product?((0,o.wg)(),(0,o.iD)("div",zt,[(0,o._)("div",jt,[(0,o._)("div",Ht,[(0,o._)("img",{src:s.product.image,alt:"Product Image",class:"card-img"},null,8,Yt)]),(0,o._)("div",Ft,[(0,o._)("div",Zt,[(0,o._)("div",Wt,[(0,o._)("h3",Vt,(0,i.zw)(s.product.name),1),(0,o._)("p",Nt,(0,i.zw)(s.product.description),1),(0,o._)("span",Kt,[(0,o._)("strong",null,(0,i.zw)(s.formatPrice(s.product.price))+"€",1)]),(0,o._)("div",Bt,[Gt,(0,o._)("div",Jt,[(0,o._)("button",{class:"btn btn-outline-secondary rounded-0 rounded-start",onClick:e[0]||(e[0]=(...t)=>s.decreaseQuantity&&s.decreaseQuantity(...t))},"-")]),(0,o.wy)((0,o._)("input",{type:"number",id:"quantity","onUpdate:modelValue":e[1]||(e[1]=t=>c.quantity=t),class:"form-control text-center",min:"1",max:"10",disabled:"",readonly:""},null,512),[[a.nr,c.quantity]]),(0,o._)("div",Xt,[(0,o._)("button",{class:"btn btn-outline-secondary rounded-0 rounded-end",onClick:e[2]||(e[2]=(...t)=>s.increaseQuantity&&s.increaseQuantity(...t))},"+")])])]),(0,o._)("div",te,[c.quantity>0&&s.isQuantityChanged?((0,o.wg)(),(0,o.iD)("button",{key:0,onClick:e[3]||(e[3]=(...t)=>s.updateCart&&s.updateCart(...t)),class:"btn btn-primary w-100 mt-3"},[(0,o.Uk)((0,i.zw)(s.isProductInCart?"Update quantity":"Add to cart")+" ",1),s.totalCost?((0,o.wg)(),(0,o.iD)("span",ee,"("+(0,i.zw)(s.formatPrice(s.totalCost))+"€)",1)):((0,o.wg)(),(0,o.iD)("span",re,"("+(0,i.zw)(s.formatPrice(s.product.price))+"€)",1))])):c.quantity>0&&!s.isQuantityChanged?((0,o.wg)(),(0,o.iD)("button",{key:1,onClick:e[4]||(e[4]=(...t)=>s.removeProduct&&s.removeProduct(...t)),class:"btn btn-danger w-100 mt-3"}," Remove product ")):(0,o.kq)("",!0)])])])])])):(0,o.kq)("",!0)])}var oe={data(){return{quantity:1}},created(){const t=this.$store.getters.getCartItemQuantity(this.product);this.quantity=t},computed:{product(){return this.$store.getters.selectedProduct},totalCost(){return this.product?this.product.price*this.quantity:0},isProductInCart(){const t=this.$store.getters.getCartItemQuantity(this.product);return t>0},isQuantityChanged(){const t=this.$store.getters.getCartItemQuantity(this.product);return t!=this.quantity}},methods:{formatPrice:M,...(0,z.nv)(["updateCartItemQuantity"]),updateCart(){const t=this.$store.getters.getCartItemQuantity(this.product),e={product:this.product,quantity:this.quantity};0!==t?this.updateCartItemQuantity(e):this.$store.dispatch("addToCart",e)},increaseQuantity(){this.quantity<10&&this.quantity++},decreaseQuantity(){this.quantity>1&&this.quantity--},removeProduct(){this.$store.dispatch("removeFromCart",this.product),this.quantity=0}}};const ne=(0,H.Z)(oe,[["render",ae],["__scopeId","data-v-5064b160"]]);var ce=ne;const se=[{path:"/",name:"Homepage",component:V,props:t=>({searchQuery:t.query.search||""})},{path:"/product/:name",name:"product-detail",component:ce},{path:"/cart",name:"cart",component:Rt}],ie=(0,P.p7)({history:(0,P.r5)(),routes:se});var ue=ie,de={data(){return{searchQuery:""}},computed:{cartItems(){return this.$store.getters.cartItems}},methods:{...(0,z.nv)(["setSearchQuery","fetchProductList"]),searchProducts(t){this.setSearchQuery(this.searchQuery),this.backHome(t)},resetSearchQuery(t){this.setSearchQuery(""),this.searchQuery="",this.backHome(t)},backHome(t){t.preventDefault(),this.fetchProductList(),this.$router.push("/")}}};const le=(0,H.Z)(de,[["render",w],["__scopeId","data-v-c8fa5042"]]);var pe=le,me={name:"App",components:{Header:pe}};const ye=(0,H.Z)(me,[["render",s]]);var he=ye,_e=r(2415);const fe=(0,z.MT)({state:{selectedProduct:null,cart:[],productList:[],searchQuery:""},mutations:{SET_SELECTED_PRODUCT(t,e){t.selectedProduct=e},ADD_TO_CART(t,{product:e,quantity:r}){t.cart.push({product:e,quantity:r})},REMOVE_FROM_CART(t,e){const r=t.cart.findIndex((t=>t.product.name===e.name));r>-1&&t.cart.splice(r,1)},UPDATE_CART_ITEM_QUANTITY(t,e){const{product:r,quantity:a}=e,o=t.cart.findIndex((t=>t.product.name===r.name));o>-1&&(a>0?t.cart[o].quantity=a:t.cart.splice(o,1))},SET_PRODUCT_LIST(t,e){t.productList=e},SET_SEARCH_QUERY(t,e){t.searchQuery=e}},actions:{selectProduct({commit:t},e){t("SET_SELECTED_PRODUCT",e)},addToCart({commit:t,state:e},{product:r,quantity:a}){const o=e.cart.find((t=>t.product.name===r.name));if(o){const e=o.quantity+a;t("UPDATE_CART_ITEM_QUANTITY",{...o,quantity:e})}else t("ADD_TO_CART",{product:r,quantity:a})},removeFromCart({commit:t},e){t("REMOVE_FROM_CART",e)},updateCartItemQuantity({commit:t,state:e},r){const a=e.cart.findIndex((t=>t.product.name===r.product.name));a>-1&&t("UPDATE_CART_ITEM_QUANTITY",r)},fetchProductList({commit:t,state:e}){fetch("https://ott-fogliata.github.io/vuejs-s2i-repository/cultured-meat.json").then((t=>t.json())).then((r=>{if(e.searchQuery){const a=r.filter((t=>t.name.toLowerCase().includes(e.searchQuery.toLowerCase())));t("SET_PRODUCT_LIST",a)}else t("SET_PRODUCT_LIST",r)}))},setSearchQuery({commit:t},e){t("SET_SEARCH_QUERY",e)}},getters:{selectedProduct(t){return t.selectedProduct},cartItems(t){return t.cart.map((t=>({...t.product,quantity:t.quantity})))},cartTotal(t){return t.cart.reduce(((t,e)=>t+e.product.price*e.quantity),0)},getCartItemQuantity:t=>e=>{const r=t.cart.find((t=>t.product.name===e.name));return r?r.quantity:0}},plugins:[(0,_e.Z)()]});var ve=fe;(0,a.ri)(he).use(ve).use(ue).mount("#app")}},e={};function r(a){var o=e[a];if(void 0!==o)return o.exports;var n=e[a]={exports:{}};return t[a].call(n.exports,n,n.exports,r),n.exports}r.m=t,function(){var t=[];r.O=function(e,a,o,n){if(!a){var c=1/0;for(d=0;d<t.length;d++){a=t[d][0],o=t[d][1],n=t[d][2];for(var s=!0,i=0;i<a.length;i++)(!1&n||c>=n)&&Object.keys(r.O).every((function(t){return r.O[t](a[i])}))?a.splice(i--,1):(s=!1,n<c&&(c=n));if(s){t.splice(d--,1);var u=o();void 0!==u&&(e=u)}}return e}n=n||0;for(var d=t.length;d>0&&t[d-1][2]>n;d--)t[d]=t[d-1];t[d]=[a,o,n]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var a in e)r.o(e,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.p="/"}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,a){var o,n,c=a[0],s=a[1],i=a[2],u=0;if(c.some((function(e){return 0!==t[e]}))){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(i)var d=i(r)}for(e&&e(a);u<c.length;u++)n=c[u],r.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return r.O(d)},a=self["webpackChunkfood_refactor"]=self["webpackChunkfood_refactor"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(6591)}));a=r.O(a)})();
//# sourceMappingURL=app.eb7e437d.js.map